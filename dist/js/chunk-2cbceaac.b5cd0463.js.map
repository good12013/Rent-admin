{"version":3,"sources":["webpack:///./src/views/exam/ExamList.vue?3916","webpack:///src/views/exam/ExamList.vue","webpack:///./src/views/exam/ExamList.vue?2ec3","webpack:///./src/views/exam/ExamList.vue","webpack:///./src/api/exam.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","record","eid","columns","loadData","scopedSlots","_u","key","fn","text","_v","_s","_f","on","$event","checkDetail","sureSendEmail","model","value","callback","$$v","visible","expression","sendEmailInfo","labelCol","wrapperCol","shopName","staticClass","staticStyle","$set","sureSetProportion","infoVisible","proportionInfo","stationName","directives","name","rawName","rules","required","message","initialValue","proportion","staticRenderFns","component","getStationList","axios","url","method","withCredentials","setStationProportion","params","data","sendShopEmail","getShopList"],"mappings":"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","file":"js/chunk-2cbceaac.b5cd0463.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-card',{attrs:{\"bordered\":false}},[_c('s-table',{ref:\"table\",attrs:{\"size\":\"default\",\"row-key\":function (record) { return record.eid; },\"columns\":_vm.columns,\"data\":_vm.loadData,\"showPagination\":false},scopedSlots:_vm._u([{key:\"price\",fn:function(text){return [_vm._v(_vm._s(_vm._f(\"PriceFormat\")(text)))]}},{key:\"content\",fn:function(text){return [_c('ellipsis',{attrs:{\"length\":30,\"tooltip\":\"\"}},[_vm._v(_vm._s(text))])]}},{key:\"create_time\",fn:function(text){return [_vm._v(_vm._s(_vm._f(\"DateFormat\")((text * 1000),'YYYY-MM-DD HH:mm'))+\"\\n        \")]}},{key:\"action\",fn:function(text, record){return _c('span',{},[[_c('div',[_c('a',{on:{\"click\":function($event){return _vm.checkDetail(record)}}},[_vm._v(\"check detail\")])])]],2)}}])}),_c('a-modal',{attrs:{\"title\":\"SendEmail\",\"width\":800},on:{\"ok\":_vm.sureSendEmail},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('a-form',{attrs:{\"form\":_vm.sendEmailInfo}},[_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"ShopName\"}},[_c('span',[_vm._v(_vm._s(_vm.sendEmailInfo.shopName))])]),_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"WeekTime\"}},[_c('el-date-picker',{staticClass:\"value-info\",staticStyle:{\"width\":\"280px\",\"height\":\"40px\",\"margin-left\":\"15px\"},attrs:{\"type\":\"week\",\"placeholder\":\"choose a week\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-ddT00:00:00+08:00\"},model:{value:(_vm.sendEmailInfo.chooseWeekTime),callback:function ($$v) {_vm.$set(_vm.sendEmailInfo, \"chooseWeekTime\", $$v)},expression:\"sendEmailInfo.chooseWeekTime\"}})],1)],1)],1),_c('a-modal',{attrs:{\"title\":\"Shop Detail\",\"width\":800},on:{\"ok\":_vm.sureSetProportion},model:{value:(_vm.infoVisible),callback:function ($$v) {_vm.infoVisible=$$v},expression:\"infoVisible\"}},[_c('a-form',{attrs:{\"form\":_vm.proportionInfo}},[_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"StationName\"}},[_c('span',[_vm._v(_vm._s(_vm.proportionInfo.stationName))])]),_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"Proportion\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['proportion', { rules: [{ required: true, message: 'Please input proportion' }], initialValue: _vm.proportionInfo.proportion }]),expression:\"['proportion', { rules: [{ required: true, message: 'Please input proportion' }], initialValue: proportionInfo.proportion }]\"}]})],1),_c('a-form-item',{attrs:{\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol,\"label\":\"WeekTime\"}},[_c('el-date-picker',{staticClass:\"value-info\",staticStyle:{\"width\":\"280px\",\"height\":\"40px\",\"margin-left\":\"15px\"},attrs:{\"type\":\"week\",\"placeholder\":\"choose a week\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-ddT00:00:00+08:00\"},model:{value:(_vm.proportionInfo.chooseWeekTime),callback:function ($$v) {_vm.$set(_vm.proportionInfo, \"chooseWeekTime\", $$v)},expression:\"proportionInfo.chooseWeekTime\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <a-card :bordered=\"false\">\n        <s-table ref=\"table\" size=\"default\" :row-key=\"record => record.eid\" :columns=\"columns\" :data=\"loadData\" :showPagination=\"false\">\n            <template slot=\"price\" slot-scope=\"text\">{{ text | PriceFormat }}</template>\n            <template slot=\"content\" slot-scope=\"text\">\n                <ellipsis :length=\"30\" tooltip>{{ text }}</ellipsis>\n            </template>\n            <template slot=\"create_time\" slot-scope=\"text\">{{ (text * 1000) | DateFormat('YYYY-MM-DD HH:mm') }}\n            </template>\n\n            <span slot=\"action\" slot-scope=\"text, record\">\n        <template>\n          <div>\n            <a @click=\"checkDetail(record)\">check detail</a>\n          </div>\n\n          <!--<div>-->\n            <!--<a @click=\"sendEmail(record)\">send email</a>-->\n          <!--</div>-->\n          <!--<div>-->\n            <!--<a @click=\"setProportion(record)\">set_station_flow_proportion</a>-->\n          <!--</div>-->\n\n        </template>\n      </span>\n        </s-table>\n\n        <a-modal title=\"SendEmail\" :width=\"800\" v-model=\"visible\" @ok=\"sureSendEmail\">\n            <a-form :form=\"sendEmailInfo\">\n                <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"ShopName\">\n                    <span>{{sendEmailInfo.shopName}}</span>\n                </a-form-item>\n                <a-form-item  :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"WeekTime\">\n                    <el-date-picker\n                            class=\"value-info\"\n                            style=\"width: 280px;height: 40px;margin-left: 15px;\"\n                            v-model=\"sendEmailInfo.chooseWeekTime\"\n                            type=\"week\"\n                            placeholder=\"choose a week\"\n                            format=\"yyyy-MM-dd\"\n                            value-format=\"yyyy-MM-ddT00:00:00+08:00\"></el-date-picker>\n                </a-form-item>\n            </a-form>\n            <!--<div style=\"height: 60px;\">-->\n                <!--ShopName:<span style=\"margin-left: 15px;\">{{sendEmailInfo.shopName}}</span>-->\n            <!--</div>-->\n            <!--<div style=\"height: 60px;\">-->\n                <!--WeekTime:<el-date-picker-->\n                    <!--class=\"value-info\"-->\n                    <!--style=\"width: 280px;height: 40px;margin-left: 15px;\"-->\n                    <!--v-model=\"sendEmailInfo.chooseWeekTime\"-->\n                    <!--type=\"week\"-->\n                    <!--placeholder=\"choose a week\"-->\n                    <!--format=\"yyyy-MM-dd\"-->\n                    <!--value-format=\"yyyy-MM-ddT00:00:00+08:00\"></el-date-picker>-->\n            <!--</div>-->\n\n        </a-modal>\n        <a-modal title=\"Shop Detail\" :width=\"800\" @ok=\"sureSetProportion\" v-model=\"infoVisible\">\n            <a-form :form=\"proportionInfo\">\n                <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"StationName\">\n                   <span>{{proportionInfo.stationName}}</span>\n                </a-form-item>\n                <a-form-item :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"Proportion\">\n                    <a-input\n                            v-decorator=\"['proportion', { rules: [{ required: true, message: 'Please input proportion' }], initialValue: proportionInfo.proportion }]\"\n                    />\n                </a-form-item>\n                <a-form-item  :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" label=\"WeekTime\">\n                    <el-date-picker\n                            class=\"value-info\"\n                            style=\"width: 280px;height: 40px;margin-left: 15px;\"\n                            v-model=\"proportionInfo.chooseWeekTime\"\n                            type=\"week\"\n                            placeholder=\"choose a week\"\n                            format=\"yyyy-MM-dd\"\n                            value-format=\"yyyy-MM-ddT00:00:00+08:00\"></el-date-picker>\n                </a-form-item>\n            </a-form>\n            <!--<div style=\"height: 60px;\">-->\n                <!--StationName:<span style=\"margin-left: 15px;\">{{proportionInfo.stationName}}</span>-->\n            <!--</div>-->\n            <!--<div style=\"height: 60px;\">-->\n                <!--Proportion:<span style=\"margin-left: 15px;\">{{proportionInfo.stationName}}</span>-->\n            <!--</div>-->\n            <!--<div style=\"height: 60px;\">-->\n                <!--WeekTime:<el-date-picker-->\n                    <!--class=\"value-info\"-->\n                    <!--style=\"width: 280px;height: 40px;margin-left: 15px;\"-->\n                    <!--v-model=\"proportionInfo.chooseWeekTime\"-->\n                    <!--type=\"week\"-->\n                    <!--placeholder=\"choose a week\"-->\n                    <!--format=\"yyyy-MM-dd\"-->\n                    <!--value-format=\"yyyy-MM-ddT00:00:00+08:00\"></el-date-picker>-->\n            <!--</div>-->\n        </a-modal>\n    </a-card>\n</template>\n\n<script>\n    import {STable, Ellipsis, Category, DescriptionList} from '@/components'\n\n    const DescriptionListItem = DescriptionList.Item\n    import {getShopList, getShopDetail, sendShopEmail,setStationProportion} from '@/api/exam'\n\n    export default {\n        name: 'ExamList',\n        components: {\n            STable,\n            Ellipsis,\n            DescriptionList,\n            DescriptionListItem,\n            Category\n        },\n        data() {\n            return {\n                labelCol: { lg: { span: 4 }, sm: { span: 4 } },\n                wrapperCol: { lg: { span: 8 }, sm: { span: 15 } },\n                proportionInfo:{\n                    stationName:'',\n                    proportion:'',\n                    chooseWeekTime:'',\n                },\n                sendEmailInfo:{\n                    shopName:'',\n                    shopId:'',\n                    chooseWeekTime:''\n                },\n                visible: false,\n                infoVisible: false,\n                mdl: {},\n                // 查询参数\n                queryParam: {},\n                // 表头\n                columns: [\n                    {\n                        title: 'shop_name',\n                        dataIndex: 'shop_name'\n                    },\n                    {\n                        title: 'admin_email',\n                        dataIndex: 'admin_email'\n                    },\n                    {\n                        title: 'admin_name',\n                        dataIndex: 'admin_name'\n                    },\n                    {\n                        title: 'last_send_email_time',\n                        dataIndex: 'last_send_email_time',\n                        scopedSlots: {customRender: 'last_send_email_time'}\n                    },\n                    {\n                        title: 'months_of_afq_rent',\n                        dataIndex: 'months_of_afq_rent',\n                        scopedSlots: {customRender: 'months_of_afq_rent'}\n                    },\n                    {\n                        title: 'rent_per_year',\n                        dataIndex: 'rent_per_year'\n                    },\n                    {\n                        title: 'station_name',\n                        dataIndex: 'station_name'\n                    },\n                    {\n                        title: 'created_time',\n                        dataIndex: 'created_at',\n                        scopedSlots: {customRender: 'created_at'}\n                    },\n                    {\n                        title: '操作',\n                        dataIndex: 'action',\n                        scopedSlots: {customRender: 'action'}\n                    }\n                ],\n                // 加载数据方法 必须为 Promise 对象\n                loadData: parameter => {\n                    return getShopList().then(res => {\n                        console.log(\"goooooood12345789\", res.Shops)\n                        return res.Shops\n                    })\n                }\n            }\n        },\n        methods: {\n            sureSetProportion(){\n                const params = {\n                    station_name:this.proportionInfo.stationName,\n                    proportion:10000,\n                    week_time:this.proportionInfo.chooseWeekTime\n                }\n                setStationProportion(params).then(res => {\n                    if(res){\n                        this.$message.success(\"Set Proportion Suc\")\n                        this.infoVisible = false\n                    }\n\n                })\n            },\n            sureSendEmail(){\n                const params = {\n                    shop_id:this.sendEmailInfo.shopId,\n                    week_time:this.sendEmailInfo.chooseWeekTime\n                }\n                sendShopEmail(params).then(res => {\n                    if(res){\n                        this.$message.success(\"Send Email Suc\")\n                        this.visible = false\n                    }\n\n                })\n            },\n            checkDetail(info) {\n                const params = {\n                    shop_id:info.shop_id\n                }\n                this.$router.push({path:`/exams/${info.shop_id}/shopdetail`})\n\n                // getShopDetail(params).then(res => {\n                //     console.log(\"goooooood12345789\", res)\n                //     return res.Shops\n                // })\n                // this.infoVisible = true\n            },\n            sendEmail(info) {\n                this.sendEmailInfo.shopName = info.shop_name;\n                this.sendEmailInfo.shopId = info.shop_id;\n                this.sendEmailInfo.chooseWeekTime = '';\n                this.visible = true\n\n            },\n            setProportion(info){\n                this.proportionInfo.stationName = info.station_name\n                this.proportionInfo.proportion = ''\n                this.proportionInfo.chooseWeekTime = ''\n                this.infoVisible = true\n            },\n            categoryManage() {\n                this.$router.push({name: 'ExamCategory'})\n            },\n            handleAdd() {\n                this.$router.push({name: 'AddExam'})\n            },\n            handleInfo(row) {\n                this.mdl = row\n                this.infoVisible = true\n            },\n            handleEdit(row) {\n                this.$router.push({name: 'EditExam', params: {id: row.eid}})\n            },\n            handleDel(row) {\n                const _this = this\n                this.$confirm({\n                    title: '警告',\n                    content: '真的要删除吗?',\n                    okText: '删除',\n                    okType: 'danger',\n                    cancelText: '取消',\n                    onOk() {\n                        deleteExam(row.eid).then(res => {\n                            if (res.code === 0) {\n                                _this.$refs.table.refresh(true)\n                                _this.$message.success('删除成功')\n                            } else {\n                                _this.$message.error('删除失败')\n                            }\n                        })\n                    },\n                    onCancel() {\n                        console.log('Cancel')\n                    }\n                })\n            },\n            recommend(row) {\n                updateExam(row.eid, {is_recommend: 1}).then(res => {\n                    if (res.code === 0) {\n                        this.$message.success('设置成功')\n                        this.$refs.table.refresh(true)\n                    }\n                })\n            },\n            cancelRecommend(row) {\n                updateExam(row.eid, {is_recommend: 0}).then(res => {\n                    if (res.code === 0) {\n                        this.$message.success('设置成功')\n                        this.$refs.table.refresh(true)\n                    }\n                })\n            }\n        },\n        watch: {\n            $route() {\n                this.$refs.table.refresh(true)\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExamList.vue?vue&type=template&id=3a2ff9bc&scoped=true&\"\nimport script from \"./ExamList.vue?vue&type=script&lang=js&\"\nexport * from \"./ExamList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a2ff9bc\",\n  null\n  \n)\n\nexport default component.exports","import { axios } from '@/utils/request'\n\n// 设置车展流量\nexport function getStationList() {\n    return axios({\n        url: '/admin/station_list',\n        method: 'get',\n        withCredentials:true\n    })\n}\n\n// 设置车展流量\nexport function setStationProportion(params) {\n    return axios({\n        url: '/admin/set_station_flow_proportion',\n        method: 'post',\n        data: params\n    })\n}\n\n// 法用邮件通知商家\nexport function sendShopEmail(params) {\n    return axios({\n        url: '/admin/send_notice',\n        method: 'post',\n        data: params\n    })\n}\n\n// 获取店铺周营收\nexport function getShopDetail(params) {\n    return axios({\n        url: '/admin/shop_turnover',\n        method: 'get',\n        params: params\n    })\n}\n// 获取店铺营收列表\nexport function getShopList(params) {\n    return axios({\n        url: '/admin/shop_list',\n        method: 'get',\n        params: params\n    })\n}\n\n// 获取测评列表\nexport function getExamList(params) {\n  return axios({\n    url: '/exams',\n    method: 'get',\n    params: params\n  })\n}\n\n// 获取测评详情\nexport function getExam(id) {\n  return axios({\n    url: `/exams/${id}`,\n    method: 'get'\n  })\n}\n\n// 添加测评\nexport function addExam(params) {\n  return axios({\n    url: '/exams',\n    method: 'post',\n    data: params\n  })\n}\n\n// 修改测评\nexport function updateExam(exam_id, params) {\n  return axios({\n    url: `/exams/${exam_id}`,\n    method: 'put',\n    data: params\n  })\n}\n\n// 删除测评\nexport function deleteExam(exam_id) {\n  return axios({\n    url: `/exams/${exam_id}`,\n    method: 'delete'\n  })\n}\n"],"sourceRoot":""}